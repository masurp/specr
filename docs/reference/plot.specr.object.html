<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plot specification curve and analytic choices — plot.specr.object • specr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Plot specification curve and analytic choices — plot.specr.object"><meta property="og:description" content="This function plots visualizations of the specification curve
analysis. The function requires an object of class specr.object, usually
the results of calling specr() to create a standard visualization of the
specification curve analysis. Several types of visualizations are possible."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">specr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/getting-started.html">Getting started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Basics</li>
    <li>
      <a href="../articles/different-specifications.html">Setting up different types of specifications</a>
    </li>
    <li>
      <a href="../articles/custom-plot.html">Visualizing specification curve analyses</a>
    </li>
    <li>
      <a href="../articles/invest-spec.html">Investigating specific specifications</a>
    </li>
    <li>
      <a href="../articles/parallelization.html">Parallelization</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Incorporating specific models</li>
    <li>
      <a href="../articles/measurement-models.html">Structural equation models</a>
    </li>
    <li>
      <a href="../articles/multilevel-models.html">Multilevel models</a>
    </li>
    <li>
      <a href="../articles/parallel-bayesian-models.html">Bayesian Modeling</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/masurp/specr" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot specification curve and analytic choices</h1>
    <small class="dont-index">Source: <a href="https://github.com/masurp/specr/blob/HEAD/R/generics.r" class="external-link"><code>R/generics.r</code></a></small>
    <div class="hidden name"><code>plot.specr.object.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function plots visualizations of the specification curve
analysis. The function requires an object of class <code>specr.object</code>, usually
the results of calling <code><a href="specr.html">specr()</a></code> to create a standard visualization of the
specification curve analysis. Several types of visualizations are possible.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for specr.object</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  var <span class="op">=</span> <span class="va">.data</span><span class="op">$</span><span class="va">estimate</span>,</span>
<span>  group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span>, <span class="st">"model"</span>, <span class="st">"controls"</span>, <span class="st">"subsets"</span><span class="op">)</span>,</span>
<span>  labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>,</span>
<span>  rel_heights <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  desc <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  null <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  ci <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ribbon <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  formula <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  print <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>A <code>specr.object</code> object, usually resulting from calling <code><a href="specr.html">specr()</a></code>.</p></dd>


<dt>type</dt>
<dd><p>What type of figure should be plotted? If <code>type = "default"</code>,
the standard specification curve analysis plot (the specification curve as the
upper panel and an overview of the relevant choices as the lower panel) is
created. If <code>type = "curve"</code>, only the specification curve (upper panel
of the default plot) is plotted. If <code>type = "choices"</code>, only the choice
panel (lower part of the default plot) is plotted. If <code>type = "boxplot"</code>,
an alternative visualization of differences between choices is plotted that
summarizes results per choice using box-and-whisker plot(s). If
<code>type = "samplesizes"</code>, a barplot of sample sizes per specification is
plotted.  See examples for more information.</p></dd>


<dt>var</dt>
<dd><p>Which parameter should be plotted in the curve? Defaults to
<code>estimate</code>, but other parameters (e.g., p.value, fit_r.squared,...)
can be plotted too.</p></dd>


<dt>group</dt>
<dd><p>Should the arrangement of the curve be grouped by a particular choice?
Defaults to NULL, but can be any of the present choices (e.g., x, y, controls...)</p></dd>


<dt>choices</dt>
<dd><p>A vector specifying which analytic choices should be plotted.
By default, all choices (x, y, model, controls, subsets) are plotted.</p></dd>


<dt>labels</dt>
<dd><p>Labels for the two parts of the plot</p></dd>


<dt>rel_heights</dt>
<dd><p>vector indicating the relative heights of the plot.</p></dd>


<dt>desc</dt>
<dd><p>Logical value indicating whether the curve should the arranged in
a descending order. Defaults to FALSE.</p></dd>


<dt>null</dt>
<dd><p>Indicate what value represents the 'null' hypothesis (defaults to
zero).</p></dd>


<dt>ci</dt>
<dd><p>Logical value indicating whether confidence intervals should be
plotted.</p></dd>


<dt>ribbon</dt>
<dd><p>Logical value indicating whether a ribbon instead should be
plotted</p></dd>


<dt>formula</dt>
<dd><p>In combination with <code>type = "variance"</code>, you can provide
a specific formula to extract specific variance components. The syntax of the
formula is based on <code><a href="https://rdrr.io/pkg/lme4/man/lmer.html" class="external-link">lme4::lmer()</a></code> and thus looks something like, e.g.:
<code>"estimate ~ 1 + (1|x) + (1|y)"</code> (to estimate the amount of variance
explained by different independent <code>x</code> and dependent variables <code>y</code>). All other
choices are then subsumed under residual variance. By no formula is provided,
all choices (x, y, model, controls, and subsets) that have more than one alternative
are included. See examples for further details.</p></dd>


<dt>print</dt>
<dd><p>In combination with <code>type = "variance"</code>, logical value indicating
whether the intra-class correlations (i.e., percentages of variance explained by
analstical choices) should be printed or not. Defaults to TRUE.</p></dd>


<dt>...</dt>
<dd><p>further arguments passed to or from other methods (currently ignored).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A <a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a> object that can be customized further.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Specification Curve analysis ----</span></span></span>
<span class="r-in"><span><span class="co"># Setup specifications</span></span></span>
<span class="r-in"><span><span class="va">specs</span> <span class="op">&lt;-</span> <span class="fu"><a href="setup.html">setup</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">example_data</span>,</span></span>
<span class="r-in"><span>               y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"y1"</span>, <span class="st">"y2"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x1"</span>, <span class="st">"x2"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               model <span class="op">=</span> <span class="st">"lm"</span>,</span></span>
<span class="r-in"><span>               <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="va">example_data</span>, <span class="va">group1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="va">example_data</span>, <span class="va">group2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>               controls <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c1"</span>, <span class="st">"c2"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run analysis</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="specr.html">specr</a></span><span class="op">(</span><span class="va">specs</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Resulting data frame with estimates</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span>  <span class="co"># This will be used for plotting</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 192 × 28</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    x     y     model controls subsets group1 group2 formula model_function term </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;glue&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> x1    y1    lm    no cova… middle… middle female y1 ~ x… <span style="color: #949494;">&lt;fn&gt;</span>           x1   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> x1    y1    lm    no cova… old &amp; … old    female y1 ~ x… <span style="color: #949494;">&lt;fn&gt;</span>           x1   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> x1    y1    lm    no cova… young … young  female y1 ~ x… <span style="color: #949494;">&lt;fn&gt;</span>           x1   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> x1    y1    lm    no cova… female  <span style="color: #BB0000;">NA</span>     female y1 ~ x… <span style="color: #949494;">&lt;fn&gt;</span>           x1   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> x1    y1    lm    no cova… middle… middle male   y1 ~ x… <span style="color: #949494;">&lt;fn&gt;</span>           x1   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> x1    y1    lm    no cova… old &amp; … old    male   y1 ~ x… <span style="color: #949494;">&lt;fn&gt;</span>           x1   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> x1    y1    lm    no cova… young … young  male   y1 ~ x… <span style="color: #949494;">&lt;fn&gt;</span>           x1   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> x1    y1    lm    no cova… male    <span style="color: #BB0000;">NA</span>     male   y1 ~ x… <span style="color: #949494;">&lt;fn&gt;</span>           x1   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> x1    y1    lm    no cova… middle  middle <span style="color: #BB0000;">NA</span>     y1 ~ x… <span style="color: #949494;">&lt;fn&gt;</span>           x1   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> x1    y1    lm    no cova… old     old    <span style="color: #BB0000;">NA</span>     y1 ~ x… <span style="color: #949494;">&lt;fn&gt;</span>           x1   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 182 more rows, and 18 more variables: estimate &lt;dbl&gt;, std.error &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   statistic &lt;dbl&gt;, p.value &lt;dbl&gt;, conf.low &lt;dbl&gt;, conf.high &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   fit_r.squared &lt;dbl&gt;, fit_adj.r.squared &lt;dbl&gt;, fit_sigma &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   fit_statistic &lt;dbl&gt;, fit_p.value &lt;dbl&gt;, fit_df &lt;dbl&gt;, fit_logLik &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   fit_AIC &lt;dbl&gt;, fit_BIC &lt;dbl&gt;, fit_deviance &lt;dbl&gt;, fit_df.residual &lt;int&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   fit_nobs &lt;int&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Visualizations ---</span></span></span>
<span class="r-in"><span><span class="co"># Plot results in various ways</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span>                            <span class="co"># default</span></span></span>
<span class="r-plt img"><img src="plot.specr.object-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">results</span>, choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span><span class="op">)</span><span class="op">)</span>     <span class="co"># specific choices</span></span></span>
<span class="r-plt img"><img src="plot.specr.object-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">results</span>, ci <span class="op">=</span> <span class="cn">FALSE</span>, ribbon <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># exclude CI and add ribbon instead</span></span></span>
<span class="r-plt img"><img src="plot.specr.object-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">results</span>, type <span class="op">=</span> <span class="st">"curve"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.specr.object-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">results</span>, type <span class="op">=</span> <span class="st">"choices"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.specr.object-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">results</span>, type <span class="op">=</span> <span class="st">"samplesizes"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.specr.object-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">results</span>, type <span class="op">=</span> <span class="st">"boxplot"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.specr.object-7.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Grouped plot</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">results</span>, group <span class="op">=</span> <span class="va">controls</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.specr.object-8.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Alternative and specific visualizations ----</span></span></span>
<span class="r-in"><span><span class="co"># Other variables in the resulting data set can be plotted too</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">results</span>,</span></span>
<span class="r-in"><span>     type <span class="op">=</span> <span class="st">"curve"</span>,</span></span>
<span class="r-in"><span>     var <span class="op">=</span> <span class="va">fit_r.squared</span>,   <span class="co"># extract "r-square" instead of "estimate"</span></span></span>
<span class="r-in"><span>     ci <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.specr.object-9.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Such a plot can also be extended (e.g., by again adding the estimates with</span></span></span>
<span class="r-in"><span><span class="co"># confidence intervals)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">results</span>, type <span class="op">=</span> <span class="st">"curve"</span>, var <span class="op">=</span> <span class="va">fit_r.squared</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">estimate</span><span class="op">)</span>, shape <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"specifications"</span>, y <span class="op">=</span> <span class="st">"r-squared | estimate"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.specr.object-10.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We can also investigate how much variance is explained by each analytical choice</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">results</span>, type <span class="op">=</span> <span class="st">"variance"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> boundary (singular) fit: see help('isSingular')</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        grp vcov  icc percent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  subsets 0.00 0.00    0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 controls 0.00 0.00    0.41</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        y 0.16 0.83   83.34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4        x 0.00 0.01    0.57</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Residual 0.03 0.16   15.69</span>
<span class="r-plt img"><img src="plot.specr.object-11.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># By providing a specific formula in `lme4::lmer()`-style, we can extract specific choices</span></span></span>
<span class="r-in"><span><span class="co"># and also include interactions between chocies</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">results</span>,</span></span>
<span class="r-in"><span>     type <span class="op">=</span> <span class="st">"variance"</span>,</span></span>
<span class="r-in"><span>     formula <span class="op">=</span> <span class="st">"estimate ~ 1 + (1|x) + (1|y) + (1|group1) + (1|x:y)"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        grp vcov  icc percent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      x:y 0.05 0.26   26.29</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   group1 0.00 0.01    0.79</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        y 0.13 0.69   69.49</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4        x 0.00 0.00    0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Residual 0.01 0.03    3.44</span>
<span class="r-plt img"><img src="plot.specr.object-12.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Combining several plots ----</span></span></span>
<span class="r-in"><span><span class="co"># `specr` also exports the function `plot_grid()` from the package `cowplot`, which</span></span></span>
<span class="r-in"><span><span class="co"># can be used to combine plots meaningfully</span></span></span>
<span class="r-in"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">results</span>, <span class="st">"curve"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">results</span>, <span class="st">"choices"</span>, choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"y"</span>, <span class="st">"controls"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">results</span>, <span class="st">"samplesizes"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://wilkelab.org/cowplot/reference/plot_grid.html" class="external-link">plot_grid</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span>, <span class="va">c</span>,</span></span>
<span class="r-in"><span>          align <span class="op">=</span> <span class="st">"v"</span>,</span></span>
<span class="r-in"><span>          axis <span class="op">=</span> <span class="st">"rbl"</span>,</span></span>
<span class="r-in"><span>          rel_heights <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>          ncol <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.specr.object-13.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Philipp K. Masur, Michael Scharkow.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

